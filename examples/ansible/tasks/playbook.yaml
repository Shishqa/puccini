- name: TOSCA tasks
  hosts: localhost
  gather_facts: no
  tasks:

  - name: Compile TOSCA service template
    puccini.tosca.compile:
      service_template: ../../../examples/tosca/requirements-and-capabilities.yaml
    register: service

  - name: Show LightBulb templates
    loop: "{{ service.node_templates }}"
    loop_control:
      label: "{{ item.name }}"
    when: "'LightBulb' in item.types"
    debug:
      msg: "{{ item }}"
